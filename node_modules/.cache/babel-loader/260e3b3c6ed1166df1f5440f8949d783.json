{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useWeb3React } from \"@web3-react/core\";\nimport { ethers } from \"ethers\";\nimport LuckySix from \"../dependencies/LuckySix.json\";\nimport contractsMap from \"../contractsMap.json\";\nexport const OnlyOwner = () => {\n  _s();\n\n  const {\n    library,\n    chainId\n  } = useWeb3React();\n  const {\n    abi\n  } = LuckySix;\n  const contractAddress = contractsMap[Number(chainId)][\"LuckySix\"][0];\n\n  async function _getBalance() {\n    const signer = library.getSigner();\n    const contract = new ethers.Contract(contractAddress, abi, signer);\n\n    try {\n      console.log(\"ETH balance: \" + (await contract.getETHBalance()) / 10 ** 18);\n      console.log(\"LINK balance: \" + (await contract.getLINKBalance()) / 10 ** 18);\n    } catch (ex) {\n      console.log(ex);\n    }\n  }\n\n  async function _startLottery() {\n    const signer = library.getSigner();\n    const contractAddress = contractsMap[Number(chainId)][\"LuckySix\"][0];\n    const contract = new ethers.Contract(contractAddress, abi, signer);\n\n    try {\n      await contract.startLottery();\n      console.log(\"Lottery Started\");\n    } catch (ex) {\n      console.log(ex);\n    }\n  }\n\n  async function _endLottery() {\n    const signer = library.getSigner();\n    const contractAddress = contractsMap[Number(chainId)][\"LuckySix\"][0];\n    const contract = new ethers.Contract(contractAddress, abi, signer);\n\n    try {\n      await contract.endLottery();\n      console.log(\"Calculating Winner...\");\n    } catch (ex) {\n      console.log(ex);\n    }\n  }\n\n  async function _payout() {\n    const signer = library.getSigner();\n    const contractAddress = contractsMap[Number(chainId)][\"LuckySix\"][0];\n    const contract = new ethers.Contract(contractAddress, abi, signer);\n\n    try {\n      await contract.payout();\n      console.log(\"PAYOUT\");\n    } catch (ex) {\n      console.log(ex);\n    }\n  }\n\n  return {\n    _getBalance,\n    _startLottery,\n    _endLottery,\n    _payout\n  };\n};\n\n_s(OnlyOwner, \"d3l4A9E8KOZ6/4P6Y30b0Wx7vVk=\", false, function () {\n  return [useWeb3React];\n});\n\n_c = OnlyOwner;\nexport default OnlyOwner;\n\nvar _c;\n\n$RefreshReg$(_c, \"OnlyOwner\");","map":{"version":3,"sources":["/home/vukasin/Desktop/LuckySixFront/src/hooks/hookOnlyOwner.tsx"],"names":["useWeb3React","ethers","LuckySix","contractsMap","OnlyOwner","library","chainId","abi","contractAddress","Number","_getBalance","signer","getSigner","contract","Contract","console","log","getETHBalance","getLINKBalance","ex","_startLottery","startLottery","_endLottery","endLottery","_payout","payout"],"mappings":"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","sourcesContent":["import {useWeb3React} from \"@web3-react/core\"\nimport {ethers} from \"ethers\"\nimport LuckySix from \"../dependencies/LuckySix.json\"\nimport contractsMap from \"../contractsMap.json\"\n\n\nexport const OnlyOwner = () => {\n\n    const {library, chainId} = useWeb3React()\n\n    const {abi} = LuckySix\n   \n    const contractAddress = contractsMap[Number(chainId)][\"LuckySix\"][0]\n\n    async function _getBalance(){\n        const signer = library.getSigner()\n        const contract = new ethers.Contract(contractAddress, abi, signer)\n        try{\n            console.log(\"ETH balance: \" + await contract.getETHBalance() / 10 ** 18)\n            console.log(\"LINK balance: \" + await contract.getLINKBalance() / 10 ** 18)\n        }catch(ex){\n            console.log(ex)\n        }\n    }\n    \n    async function _startLottery(){\n        const signer = library.getSigner()\n        const contractAddress = contractsMap[Number(chainId)][\"LuckySix\"][0]\n        const contract = new ethers.Contract(contractAddress, abi, signer)\n\n        try{\n            await contract.startLottery()\n            console.log(\"Lottery Started\")\n        }catch(ex){\n            console.log(ex)\n        }\n    }\n\n    async function _endLottery(){\n        const signer = library.getSigner()\n        const contractAddress = contractsMap[Number(chainId)][\"LuckySix\"][0]\n        const contract = new ethers.Contract(contractAddress, abi, signer)\n\n        try{\n            await contract.endLottery()\n            console.log(\"Calculating Winner...\")\n        }catch(ex){\n            console.log(ex)\n        }\n    }\n\n    async function _payout(){\n        const signer = library.getSigner()\n        const contractAddress = contractsMap[Number(chainId)][\"LuckySix\"][0]\n        const contract = new ethers.Contract(contractAddress, abi, signer)\n\n        try{\n            await contract.payout()\n            console.log(\"PAYOUT\")\n        }catch(ex){\n            console.log(ex)\n        }\n    }\n\n    return {_getBalance, _startLottery, _endLottery, _payout}\n}\n\nexport default OnlyOwner"]},"metadata":{},"sourceType":"module"}