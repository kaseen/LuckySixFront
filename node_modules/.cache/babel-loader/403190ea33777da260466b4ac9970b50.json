{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useCallback, useEffect, useState } from 'react';\nimport { InjectedNetworkContext } from './context';\nimport { getInjectedProvider } from '../../helpers/injectedProvider';\nimport { useNetwork } from '../network';\nimport { useConfig } from '../config';\nexport function InjectedNetworkProvider(_ref) {\n  let {\n    children\n  } = _ref;\n  const {\n    reportError\n  } = useNetwork();\n  const {\n    pollingInterval\n  } = useConfig();\n  const [injectedProvider, setInjectedProvider] = useState();\n  useEffect(function () {\n    getInjectedProvider(pollingInterval).then(setInjectedProvider);\n  }, []);\n  const connect = useCallback(async () => {\n    if (!injectedProvider) {\n      reportError(new Error('No injected provider available'));\n      return;\n    }\n\n    try {\n      await injectedProvider.send('eth_requestAccounts', []);\n      return injectedProvider;\n    } catch (e) {\n      reportError(e);\n    }\n  }, [injectedProvider]);\n  return _jsx(InjectedNetworkContext.Provider, {\n    value: {\n      injectedProvider,\n      connect\n    },\n    children: children\n  }, void 0);\n}","map":{"version":3,"mappings":";AAAA,SAAoBA,WAApB,EAAiCC,SAAjC,EAA4CC,QAA5C,QAA4D,OAA5D;AACA,SAASC,sBAAT,QAAuC,WAAvC;AAEA,SAASC,mBAAT,QAAoC,gCAApC;AACA,SAASC,UAAT,QAA2B,YAA3B;AACA,SAASC,SAAT,QAA0B,WAA1B;AAMA,OAAM,SAAUC,uBAAV,OAA4E;AAAA,MAA1C;AAAEC;AAAF,GAA0C;AAChF,QAAM;AAAEC;AAAF,MAAkBJ,UAAU,EAAlC;AACA,QAAM;AAAEK;AAAF,MAAsBJ,SAAS,EAArC;AACA,QAAM,CAACK,gBAAD,EAAmBC,mBAAnB,IAA0CV,QAAQ,EAAxD;AAEAD,WAAS,CAAC;AACRG,uBAAmB,CAACM,eAAD,CAAnB,CAAqCG,IAArC,CAA0CD,mBAA1C;AACD,GAFQ,EAEN,EAFM,CAAT;AAIA,QAAME,OAAO,GAAGd,WAAW,CAAC,YAAW;AACrC,QAAI,CAACW,gBAAL,EAAuB;AACrBF,iBAAW,CAAC,IAAIM,KAAJ,CAAU,gCAAV,CAAD,CAAX;AACA;AACD;;AACD,QAAI;AACF,YAAMJ,gBAAgB,CAACK,IAAjB,CAAsB,qBAAtB,EAA6C,EAA7C,CAAN;AACA,aAAOL,gBAAP;AACD,KAHD,CAGE,OAAOM,CAAP,EAAU;AACVR,iBAAW,CAACQ,CAAD,CAAX;AACD;AACF,GAX0B,EAWxB,CAACN,gBAAD,CAXwB,CAA3B;AAaA,SACEO,KAACf,sBAAsB,CAACgB,QAAxB,EAAgC;AAC9BC,SAAK,EAAE;AACLT,sBADK;AAELG;AAFK,KADuB;AAK9BN,YAAQ,EAAEA;AALoB,GAAhC,EAKoB,MALpB,CADF;AASD","names":["useCallback","useEffect","useState","InjectedNetworkContext","getInjectedProvider","useNetwork","useConfig","InjectedNetworkProvider","children","reportError","pollingInterval","injectedProvider","setInjectedProvider","then","connect","Error","send","e","_jsx","Provider","value"],"sources":["/home/vukasin/Desktop/LuckySixFront/node_modules/@usedapp/core/src/providers/injectedNetwork/provider.tsx"],"sourcesContent":["import { ReactNode, useCallback, useEffect, useState } from 'react'\nimport { InjectedNetworkContext } from './context'\nimport { Web3Provider } from '@ethersproject/providers'\nimport { getInjectedProvider } from '../../helpers/injectedProvider'\nimport { useNetwork } from '../network'\nimport { useConfig } from '../config'\n\ninterface InjectedNetworkProviderProps {\n  children: ReactNode\n}\n\nexport function InjectedNetworkProvider({ children }: InjectedNetworkProviderProps) {\n  const { reportError } = useNetwork()\n  const { pollingInterval } = useConfig()\n  const [injectedProvider, setInjectedProvider] = useState<Web3Provider | undefined>()\n\n  useEffect(function () {\n    getInjectedProvider(pollingInterval).then(setInjectedProvider)\n  }, [])\n\n  const connect = useCallback(async () => {\n    if (!injectedProvider) {\n      reportError(new Error('No injected provider available'))\n      return\n    }\n    try {\n      await injectedProvider.send('eth_requestAccounts', [])\n      return injectedProvider\n    } catch (e) {\n      reportError(e)\n    }\n  }, [injectedProvider])\n\n  return (\n    <InjectedNetworkContext.Provider\n      value={{\n        injectedProvider,\n        connect,\n      }}\n      children={children}\n    />\n  )\n}\n"]},"metadata":{},"sourceType":"module"}